{"version":3,"sources":["js/litebochs.js"],"names":["$","window","document","undefined","pluginName","defaults","path","theme","anim","speed","yourMum","Plugin","element","options","extend","_defaults","_name","init","prototype","parent","console","info","append","litebochsControls","litebochsContent","litebochs","attr","find","each","i","obj","css","error","on","html","currentSrc","alt","clientHeight","clientWidth","openlitebochs","closelitebochs","setTimeout","parseInt","e","which","fn","data","jQuery"],"mappings":"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","file":"litebochs.js","sourcesContent":[";\n(function($, window, document, undefined) {\n    let pluginName = 'litebochs',\n        defaults = {\n            path: 'css',\n            theme: 'dark',\n            anim: 'zoom',\n            speed: 'fast',\n            yourMum: 'epic'\n        }\n\n    function Plugin(element, options) {\n        this.element = element\n\n        this.options = $.extend({}, defaults, options)\n\n        this._defaults = defaults\n        this._name = pluginName\n\n        this.init()\n    }\n\n    Plugin.prototype.init = function() {\n        parent = this.element\n        console.info(parent)\n        // Load the prescriptive styles. @TODO Consider moving this into the javscript to minimise the number of files to load.\n        $('head').append(\"<link rel='stylesheet' href='\" + this.options.path + \"/litebochs.css'>\")\n            // Load the FontAwesome CDN for the close icon.\n            // @TODO Can this be switched for a standard tiny image or passed through as an option to match branding on individual sites?\n        $('body').append(\"<script src='https://use.fontawesome.com/804ff9ee50.js'></script>\")\n            // Build the elements that make up the lightbox\n        const litebochsControls = \"<i aria-label='close lightbox' class='fa fa-fw fa-times'></i>\"\n        const litebochsContent = \"<div data-element='litebochs-content'><div data-element='litebochs-content-inner'></div></div>\"\n        const litebochs = \"<div data-element='litebochs' data-state='closed'>\" + litebochsControls + litebochsContent + \"</div>\"\n            // Append the built elements to the page body\n        $('body').append(litebochs)\n\n          $('[data-element=\"litebochs\"]')\n          .attr('data-theme', this.options.theme)\n          .attr('data-anim', this.options.anim)\n          .attr('data-speed', this.options.speed)\n\n\n            // Find every <img> in the parent element\n        $(parent).find('img').each(function(i, obj) {\n          $(this).css('cursor', 'pointer')\n          console.error('img', i)\n            // When any individual <img> is clicked on...\n            $(this).on('click', function() {\n                // Add an <img> to the lightbox content using the data from the original image\n                $('[data-element=\"litebochs-content-inner\"]').html('').html('<img src=\"' + this.currentSrc + '\" alt=\"' + this.alt + '\" />')\n                    // Apply the correct styles to the image depending on whether it is portrait or landscape\n                if (this.clientHeight > this.clientWidth) {\n                    $('[data-element=\"litebochs-content\"]').attr('data-content', 'portrait')\n                } else {\n                    $('[data-element=\"litebochs-content\"]').attr('data-content', 'landscape')\n                }\n                $(parent).attr('data-state', 'blur')\n                    // Finally open the lightbox\n                openlitebochs()\n            })\n\n        })\n\n        // Allow the lightbox to be closed on clicking the close icon\n        $('body').on('click', \"[aria-label='close lightbox']\", function() {\n            $(parent).attr('data-state', '')\n                // First close the lightbox\n            closelitebochs()\n            setTimeout(function() {\n                // Then empty the current lightbox\n                $('[data-element=\"litebochs-content-inner\"]').html('')\n            }, parseInt(parent.options.speed))\n        })\n\n        // Allow the lightbox to be closed on pressing the escape key\n        $('body').on('keyup', function(e) {\n            if (e.which == 27) {\n                $(parent).attr('data-state', '')\n                    // First close the lightbox\n                closelitebochs()\n                setTimeout(function() {\n                    // Then empty the current lightbox\n                    $('[data-element=\"litebochs-content-inner\"]').html('')\n                }, parseInt(parent.options.speed))\n            }\n\n        })\n    }\n\n\n    $.fn[pluginName] = function(options) {\n        return this.each(function() {\n            if (!$.data(this, 'plugin_' + pluginName)) {\n                $.data(this, 'plugin_' + pluginName,\n                    new Plugin(this, options))\n            }\n        })\n    }\n\n\n}(jQuery, window, document))\n\n// Function to open the lightbox\nfunction openlitebochs() {\n    $('[data-element=\"litebochs\"]').attr('data-state', 'open')\n}\n\n// Function to close the lightbox\nfunction closelitebochs() {\n    $('[data-element=\"litebochs\"]').attr('data-state', 'closed')\n}\n"]}